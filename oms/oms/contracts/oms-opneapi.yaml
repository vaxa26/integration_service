opneapi: 3.1.0
info:
  title: Order Mangement  Service (OmS)
  version: 1.0.0
  description: I had a Dream...
tags:
  - name: orders
    description: Order anlegen und lesen und so
servers:
  - url: https://localhost:8000/api/v1
    description: Local Dev Server
paths:
  /orders:
    post:
      tags: [orders]
      summary: Create a new order
      operationId: createOrder
      requestBody:
        required: true
        content:
          application/json:
            schema: { $ref: '#/components/schemas/OrderCreate' }
            examples:
            samples:
              value:
                id: ORD-2025.10.16.7891
                customer:
                  customerID: CUST-1001
                  prename: John
                  name: Doe
                items:
                  - productID: P-8821
                    quantity: 2
                    price: 29.99
                  - productID: P-P-3344
                    quantity: 1
                    price: 149.99
                totalAmount: 209.97
                shippingAddress:
                  street: Moltke Str. 30
                  city: Karlsruhe
                  zipCode: "76133"
                  country: Germany
      responses:
        '201':
          description: Order created successfully
          content:
            application/json:
              schema: { $ref: '#/components/schemas/Order' }
        '400':
          description: Invalid input
          content:
            application/json:
              schema: { $ref: '#/components/schemas/Error' }

  /orders/{orderId}:
    get:
      tags: [orders]
      summary: Get order by ID
      operationId: getOrderById
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Order retrieved successfully
          content:
            application/json:
              schema: { $ref: '#/components/schemas/Order' }
        '404':
          description: Order not found
          content:
            application/json:
              schema: { $ref: '#/components/schemas/Error' }
OrderCreate:
  type: object
  required: [orderId, customer, items, totalAmount, shippingAddress]
  properties:
    orderId:
      type: string
      example: ORD-2025.10.16.7891
    customer:
      $ref: '#/components/schemas/Customer'
    items:
      type: array
      minItems: 1
      items:
        $ref: '#/components/schemas/OrderItem'
    totalAmount:
      type: number
      format: double
      minimum: 0
      example: 209.97
    shippingAddress:
      $ref: '#/components/schemas/Address'

Order:
  allOf:
    - $ref: '#/components/schemas/OrderCreate'
    - type: object
      required: [status]
      properties:
      status:
        type: string
        enum: [PENDING, CONFIRMED, CANCELLED]
        example: PENDING
Customer:
  type: object
  required: [customerID, prename, name]
  properties:
    customerID:
      type: string
      example: CUST-1001
    prename:
      type: string
      example: John
    name:
      type: string
      example: Doe
OrderItem:
  type: object
  required: [productID, quantity, price]
  properties:
    productID:
      type: string
      example: P-8821
    quantity:
      type: integer
      minimum: 1
      example: 2
    price:
      type: number
      format: double
      minimum: 0
      example: 29.99
Address:
  type: object
  required: [street, city, zipCode, country]
  properties:
    street:
      type: string
      example: Moltke Str. 30
    city:
      type: string
      example: Karlsruhe
    zipCode:
      type: string
      example: "76133"
    country:
      type: string
      example: Germany
Error:
  type: object
  properties:
    detail:
      type: string
      example: Error message describing the issue
    

                  