syntax = "proto3";
package inventory;

// High-level contract: check and optionally reserve.
service InventoryService {
  rpc CheckAvailability (InventoryRequest) returns (InventoryResponse);
  rpc ReserveItems (ReserveRequest) returns (ReserveResponse);
}

message InventoryRequest {
  map<string, int32> items = 1;
}

message InventoryResponse {
    map<string, bool> availability = 1;
}

message ReserveRequest {
  map<string, int32> items = 1;
}

message ReserveResponse {   
    bool overallSuccess = 1;
    map<string, ReserveStatus> results = 2;
}

message ReserveStatus {
  bool success = 1;
  string message = 2;
}